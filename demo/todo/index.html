<!doctype html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <title>Todo</title>
    <link rel="stylesheet" href="./app.css">
  </head>
  <body>
    <section class="todoapp">
      <header class="header">
        <h1>todos</h1>
        <input 
          class="new-todo" 
          placeholder="请输入待完成任务" 
          autofocus 
          (keyup.enter)="createTodo($event, $element, $value)"
        >
      </header>
      <section class="main">
        <input 
          class="toggle-all" 
          type="checkbox" 
          [prop:checked]="leftTodoCount | == 0" 
          [show]="todos | count | > 0" 
          (click)="toggleAll"
        >
        <label for="toggle-all">Mark all as complete</label>
        <ul class="todo-list" [el:list]>
          <li 
            [each:todo]="filteredTodos" 
            [class:completed]="todo.completed"
            [class:editing]="editing | == $index"
          >
            <div class="view">
              <input 
                class="toggle" 
                type="checkbox" 
                [prop:checked]="todo.completed" 
                (click)="toggleItem($index)"
              >
              <label (dblclick)="edit($element, $index)">${todo.title}</label>
              <button class="destroy" (click)="deleteItem($index)"></button>
            </div>
            <input
              class="edit" type="text"
              [focus]="editing | == $index"
              (keyup.enter)="finishEdit($element, $value, $index)"
              (keyup.esc)="cancelEdit($element, $value, $index)"
              (focus)="startEdit($element, $index)"
              (blur)="finishEdit($element, $value, $index)"
            >
          </li>
        </ul>
      </section>
      <footer class="footer" [if]="todos | !empty">
      <span class="todo-count"><strong [text]="leftTodoCount"></strong> item left</span>
      <ul class="filters">
        <li>
          <a 
            href="javascript:void(0);"
            [class:selected]="filter | == 'all'" 
            (click)="filter('all')"
          >All</a>
        </li>
        <li>
          <a 
            href="javascript:void(0);"
            [class:selected]="filter | == 'active'"
            (click)="filter('active')"
          >Active</a>
        </li>
        <li>
          <a 
            href="javascript:void(0);"
            [class:selected]="filter | == 'completed'"
            (click)="filter('completed')"
          >Completed</a>
        </li>
      </ul>
    </footer>
    </section>
    <script src="../../dist/akatsuki.js"></script>
    <script src="./app.js"></script>
  </body>
</html>

