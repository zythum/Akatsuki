<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <script src="./dist/index.js"></script>
</head>
<body>

<div id="a">
  <button (click)="toggleShow">toggleShow</button>
  <input type="text">
  <div [if]="data.show">
    <span>${data.count}</span>
    <button (click)="buttonClick">plus</button>
    <ul>
      <li [each-item]="data.list">
        ${item.text} | ${index} | ${length}
      </li>
    </ul>
    <ul>
      <li [each-item]="data.list">
        <span [text]="item.text"></span>
      </li>
    </ul>
    <button (click)="pushItem">push D</button>
  </div>
</div>

<script>
  var vm_text = akatsuki(document.getElementById('a'), {
    model: {
      data: {
        count: 1, 
        show: true, 
        list: [
          {text: 'a'}, 
          {text: 'b'}, 
          {text: 'c'}
        ]
      }
    },
    computed: {
      listLen: ['data.list', function (list) {
        return list.length
      }],
    },
    methods: {
      buttonClick: function () {
        this.model.set('data.count', this.model.get('data.count') + 1)
      },
      toggleShow: function () {
        this.model.update({data:{show: {$toggle: 1}}})
      },
      pushItem: function () {
        this.model.update({data:{list:{'$push': {text: 'd'}}}})
      }
    }
  })
  vm_text.mount()

</script>
</body>
</html>